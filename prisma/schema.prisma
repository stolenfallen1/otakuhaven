datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

enum UserRole {
    ADMIN
    CUSTOMER
}

model User {
    id                String    @id @default(cuid())
    email             String    @unique
    password          String
    name              String
    role              UserRole  @default(CUSTOMER)
    emailVerified     Boolean   @default(false)
    verificationToken String?   @unique
    createdAt         DateTime  @default(now())
    updatedAt         DateTime  @updatedAt
}

model Category {
    id              String    @id @default(cuid())
    name            String    @unique
    description     String    @db.Text
    products        Product[]
    createdAt       DateTime  @default(now())
    updatedAt       DateTime  @updatedAt
}

model Product {
    id              String    @id @default(cuid())
    name            String
    description     String    @db.Text
    price           Float
    stock           Int       @default(0)
    image           String?
    categoryId      String
    category        Category  @relation(fields: [categoryId], references: [id])
    featured        Boolean   @default(false)
    createdAt       DateTime  @default(now())
    updatedAt       DateTime  @updatedAt

    @@index([categoryId])
}